{% extends "admin/base_site.html" %}
{% load admin_urls i18n static %}

{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% static "admin/css/forms.css" %}" />{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label='layout' %}">Layout</a>
&rsaquo; <a href="{% url 'css_list' %}">Stylesheets</a>
&rsaquo; {{ file_name }}
</div>
{% endblock %}


{% block content %}
<div id="content-main">
	<form action="" method="post">
		{% csrf_token %}
		<input type="hidden" name="file_name" value="{{ file_name }}" />
		<fieldset class="module">
			<div class="formrow">
				<textarea name="file_content" rows="20" style="width: 100%; box-sizing: border-box;">{{ file_content }}</textarea>
			</div>
		</fieldset>
		<div class="submit-row">
			<input type="submit" class="default" name="_continue" value="Save and continue editing" />
			<input type="submit" name="_return" value="Save and return" />
		</div>
	</form>

</div>
{% endblock %}

{% block footer %}
{{ block.super }}
<script type="text/javascript">
document.querySelector('textarea').onkeypress = function(event) {
	if (event.keyCode == KeyEvent.DOM_VK_TAB) {
		event.preventDefault();
		var s = this.selectionStart;
		var e = this.selectionEnd;
		this.value = this.value.substring(0, s) + '\t' + this.value.substring(e);
		this.selectionStart = this.selectionEnd = s + 1;
	}
};
</script>
{% endblock %}
